<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nexus Icons Library</title>
    
    <link rel="stylesheet" href="dist/nexus.min.css">
    <link rel="stylesheet" href="src/components/icons.css">

    <style>
        /* --- Tool Bar Styles (Local to this showcase) --- */
        .nexus-toolbar {
            max-width: 1200px;
            margin: 0 auto;
            position: sticky;
            top: 0;
            z-index: 100;
            background: var(--color-surface, #fff);
            border-bottom: 1px solid var(--color-grays-200, #eee);
            padding: 1rem 2rem;
            display: flex;
            align-items: center;
            gap: 3rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .toolbar-group {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .toolbar-label {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--color-grays-600, #666);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* Controls */
        .nexus-select {
            padding: 0.5rem 1rem;
            border: 1px solid var(--color-grays-300, #ccc);
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
        }

        /* Size Toggles */
        .size-options {
            display: flex;
            background: var(--color-grays-100, #f4f5f6);
            padding: 4px;
            border-radius: 6px;
        }

        .size-option {
            padding: 0.5rem 1rem;
            cursor: pointer;
            border-radius: 4px;
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--color-grays-600);
            user-select: none;
            transition: all 0.2s;
        }

        .size-option.active {
            background: white;
            color: var(--color-primary-600, #000);
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        /* Color Swatches */
        .color-options {
            display: flex;
            gap: 0.75rem;
        }

        .color-swatch {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            cursor: pointer;
            position: relative;
            border: 2px solid transparent;
            transition: transform 0.2s;
        }

        .color-swatch:hover {
            transform: scale(1.1);
        }

        .color-swatch.active {
            border-color: var(--color-grays-800, #333);
            box-shadow: 0 0 0 2px white inset; /* Creates a gap between border and color */
        }
    </style>
</head>
<body>

    <header class="nexus-toolbar">
        
        <div class="toolbar-group">
            <label class="toolbar-label">Type</label>
            <select id="type-select" class="nexus-select">
                <option value="outline">Outline</option>
                <option value="filled">Filled</option>
            </select>
        </div>

        <div class="toolbar-group">
            <label class="toolbar-label">Size</label>
            <div class="size-options" id="size-options">
                <div class="size-option" data-value="16px">XS</div>
                <div class="size-option active" data-value="var(--nxs-size-sm, 32px)">SM</div>
                <div class="size-option" data-value="var(--nxs-size-md, 40px)">MD</div>
                <div class="size-option" data-value="var(--nxs-size-lg, 48px)">LG</div>
                <div class="size-option" data-value="var(--nxs-size-xl, 64px)">XL</div>
            </div>
        </div>

        <div class="toolbar-group">
            <label class="toolbar-label">Color</label>
            <div class="color-options" id="color-options">
                <div class="color-swatch active" data-color="var(--color-grays-900)" style="background: #333;" title="Neutral"></div>
                <div class="color-swatch" data-color="var(--color-error-500)" style="background: #C62828;" title="Error"></div>
                <div class="color-swatch" data-color="var(--color-warning-500)" style="background: #F57C00;" title="Warning"></div>
                <div class="color-swatch" data-color="var(--color-success-500)" style="background: #4CAF50;" title="Success"></div>
                <div class="color-swatch" data-color="var(--color-information-500)" style="background: #2196F3;" title="Information"></div>
            </div>
        </div>

    </header>

    <main class="nexus-icon-showcase">
        <h1 id="grid-title">Nexus Icons</h1>
        <p style="margin-bottom: 2rem; color: #666;">Click any icon to copy its code.</p>

        <div class="nexus-icon-grid" id="icon-grid">
            </div>
    </main>

    <script src="src/js/icons/nexus-icon-wc.js"></script>

    <script>
        // --- 1. Data Source ---
        const iconList = [
            "ai-summary-doc", "alert-triangle", "arrow-down", "arrow-left",
            "arrow-right", "arrow-up", "check-circle", "chevron-down",
            "chevron-left", "chevron-right", "chevron-up", "client-business",
            "client-finance", "client-tag", "inbox", "info", "lock", "log-in",
            "log-out", "plus", "search", "settings", "sliders", "trash",
            "user", "user-check", "user-circle", "user-cog", "user-lock",
            "user-minus", "user-plus", "user-x", "users", "x-circle"
        ];

        // --- 2. State Management ---
        const state = {
            type: 'outline',
            size: 'var(--nxs-size-sm, 32px)', // Default to SM
            color: 'var(--color-grays-900)'   // Default to Neutral
        };

        // --- 3. DOM Elements ---
        const grid = document.getElementById('icon-grid');
        const typeSelect = document.getElementById('type-select');
        const sizeOptions = document.querySelectorAll('.size-option');
        const colorOptions = document.querySelectorAll('.color-swatch');

        // --- 4. Render Function ---
        function renderGrid() {
            grid.innerHTML = ''; // Clear current grid

            iconList.forEach(name => {
                const card = document.createElement('div');
                card.className = 'nexus-icon-card';
                // Apply color state to the card wrapper (icons inherit via currentColor)
                card.style.color = state.color;

                const usageString = `<nexus-icon name="${name}" type="${state.type}"></nexus-icon>`;

                // Create the icon with inline styles for dynamic sizing
                // Note: We deliberately override the default CSS size here based on toolbar selection
                card.innerHTML = `
                    <nexus-icon 
                        name="${name}" 
                        type="${state.type}" 
                        style="width: ${state.size}; height: ${state.size}; font-size: ${state.size};"
                    ></nexus-icon>
                    <span class="nexus-icon-name">${name}</span>
                `;

                // Click to Copy
                card.addEventListener('click', () => {
                    navigator.clipboard.writeText(usageString);
                    // Simple visual feedback
                    const originalText = card.querySelector('.nexus-icon-name').innerText;
                    card.querySelector('.nexus-icon-name').innerText = "Copied!";
                    setTimeout(() => {
                        card.querySelector('.nexus-icon-name').innerText = originalText;
                    }, 1000);
                });

                grid.appendChild(card);
            });
        }

        // --- 5. Event Listeners ---

        // Type Change
        typeSelect.addEventListener('change', (e) => {
            state.type = e.target.value;
            renderGrid();
        });

        // Size Change
        sizeOptions.forEach(opt => {
            opt.addEventListener('click', () => {
                // UI Toggle
                sizeOptions.forEach(o => o.classList.remove('active'));
                opt.classList.add('active');
                
                // State Update
                state.size = opt.dataset.value;
                renderGrid();
            });
        });

        // Color Change
        colorOptions.forEach(opt => {
            opt.addEventListener('click', () => {
                // UI Toggle
                colorOptions.forEach(o => o.classList.remove('active'));
                opt.classList.add('active');
                
                // State Update
                state.color = opt.dataset.color;
                renderGrid();
            });
        });

        // --- 6. Initial Render ---
        renderGrid();

    </script>
</body>
</html>